<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>README Preview</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
            background-color: #0d1117;
        }
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
        }
        @media (max-width: 767px) {
            .markdown-body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <article class="markdown-body" id="content"></article>

    <!-- Hidden readme content -->
    <pre id="raw-markdown" style="display: none;">
---
title: PromptHive - Project README
version: 2.2.0
last_updated: 2025-12-23
author: AI Agent
---

<p align="center">
  <img src="logo-light.png" alt="PromptHive Logo" width="600">
</p>

![Status](https://img.shields.io/badge/Status-Active-success)
![License](https://img.shields.io/badge/License-MIT-blue)
![Tech](https://img.shields.io/badge/Tech-Next.js%20%7C%20Prisma%20%7C%20SQLite-black)

**PromptHive** is a self-hosted, local-first Prompt Management System designed for prompt engineers and AI enthusiasts. It allows you to organize, version, and text your LLM prompts in a beautiful, structured interface.

> üß™ **Experiment Disclaimer**: This project is an experiment on the limits of "vibe coding". It was **completely vibe coded**, including all documentation, testing, and infrastructure configuration. No manual coding was performed.

![PromptHive App Screenshot](demo/prompthive_Screenshot.png)

## üöÄ Comprehensive Feature Overview

### üìù Core Prompt Management
*   **Rich Editor**: Syntax highlighting for variables and markdown support.
*   **Dynamic Variables**: Define variables like `{{topic}}` or `[[style]]` and auto-generate testing forms.
*   **Version Control**: Automatically track every change.
*   **Visual Diff**: Compare any two versions side-by-side to see exactly what changed (additions/deletions).
*   **Metadata**: Add tags, descriptions, source URLs, and attachments to your prompts.

### üóÇÔ∏è Organization & Discovery
*   **Nested Collections**: Organize prompts into infinite folders and sub-folders. Supports **Drag & Drop** for easy reorganization.
*   **Advanced Search**: Filter by tags, content, or creator.
*   **Command Palette**: Navigate the entire app without leaving the keyboard (`Cmd+K`).
*   **Workflows**: Chain multiple prompts together to create complex automation sequences.
*   **Favorites & History**: Quickly access your most used or recently viewed prompts.

### üîÑ Data & Integration
*   **Unified Import**: Seamlessly import data from **PromptHive** backups or **PromptCat** exports.
*   **AI Web Scraper**: Built-in guide and prompt to let AI agents scrape prompts from any website for you.
*   **Export Options**: Download your entire library as JSON or individual prompts as Markdown.
*   **Automated Backups**: Configure daily, weekly, or monthly automatic backups to a local path.

### ‚öôÔ∏è System & Administration
*   **Local First**: 100% self-hosted. All data lives in a local SQLite database on your machine.
*   **Internationalization (i18n)**: Fully localized in English, German, French, Spanish, Italian, Dutch, and Swedish.
*   **User Management**: Admin dashboard to manage users and toggle registration.
*   **Customization**: Toggle between Dark and Light modes.
*   **Robust Security**: Local authentication with strictly typed schema validation.

## üé• Demos

| | |
|:---:|:---:|
| **Log In**<br>![Log In](demo/login.gif) | **Navigation**<br>![Navigation](demo/navigation.gif) |
| **Collection Management**<br>![Collection Management](demo/collection.gif) | **Prompt Management**<br>![Prompt Management](demo/prompt.gif) |

> üöÄ **And much more!** This is just a glimpse. PromptHive also features detailed version histor and a fully keyboard-accessible UI.

## üõ†Ô∏è Technology Stack
*   **Framework**: [Next.js 15+](https://nextjs.org/) (App Router)
*   **Database**: SQLite with [Prisma ORM](https://www.prisma.io/)
*   **Styling**: Tailwind CSS + Custom Design System
*   **Authentication**: NextAuth.js (Local Credentials)
*   **Validation**: Zod schema validation
*   **Testing**: Vitest (Unit) & Playwright (E2E)

## üèÅ Getting Started

### Prerequisites
*   Node.js 18+
*   npm

### Installation

1.  **Clone the repository**
    ```bash
    git clone https://github.com/yourusername/prompt-hive.git
    cd prompt-hive
    ```

2.  **Install dependencies**
    ```bash
    npm install
    # and
    npm install -g @mermaid-js/mermaid-cli # For doc generation
    ```

3.  **Running the Application**

    This project supports two environments: **Development** and **Production**.

    #### Option A: Development / Test
    *   **Port**: 3000
    *   **Database**: `data/dev.db`
    *   **Use for**: Coding, testing, and debugging.
    *   **Run it this way if you**: Are actively modifying code, debugging new features, or want to see changes update in real-time.
    *   **Pros**: Hot Reloading, Detailed Error Overlays, Easy Debugging.
    *   **Cons**: Slower performance, less strict than production environment.

    ```bash
    # 1. Initialize Database
    npx prisma db push

    # 2. Start Dev Server
    npm run dev
    ```
    Open [http://localhost:3000](http://localhost:3000).

    #### Option B: Production
    *   **Port**: 3100
    *   **Database**: `data/prod.db` (Separate stable database)
    *   **Use for**: Daily usage.
    *   **Run it this way if you**: Want to use the stable application locally with maximum performance and no container overhead, but don't plan to modify the code.
    *   **Pros**: Maximum Performance, Persistent Data (Separate DB), Stable.
    *   **Cons**: No Hot Reloading (requires restart for changes), harder to debug errors.

    ```bash
    # 1. Build the Application
    npm run build

    # 2. Initialize/Update Production Database
    npm run db:push:prod

    # ALTERNATIVE: Start with EMPTY database (Wipes existing data!)
    # npm run db:reset:prod

    # 3. Start Production Server
    npm run start
    ```
    Open [http://localhost:3100](http://localhost:3100).

    #### Option C: Docker (Production)
    Run the production build in an isolated container.

    *   **Run it this way if you**: Want a completely isolated, reproducible environment that mimics a real server deployment, or if you want to run the app in the background without worrying about local Node.js version conflicts.
    *   **Pros**: Complete Isolation, Consistent Environment, Easy Deployment/Migration.
    *   **Cons**: Requires Docker, slightly more complex setup (volume mounting), harder to access internal files directly.

    ```powershell
    # 1. Build the Image
    docker build -t prompthive-production .

    # 2. Prepare Data Directory
    # Create a 'data' folder in your project root to persist the database.
    # The container will look for /app/data/prod.db
    New-Item -ItemType Directory -Force -Path data

    # 3. Run Container
    # Maps local 'data' folder to container storage
    # Uses docker.env for default configuration (Update this file or use .env.production for real secrets)
    docker run -d -p 3100:3000 --name prompthive `
      -v ${PWD}/data:/app/data `
      -v ${PWD}/public/uploads:/app/public/uploads `
      --env-file docker.env `
      prompthive-production
    ```
    Open [http://localhost:3100](http://localhost:3100).

### ‚öôÔ∏è Configuration

The project uses environment variables for configuration.
*   `docker.env`: Included in the repo with default values for easy testing.
*   `.env.production`: (Ignored by Git) Create this file for secure production deployments to override secrets.
*   `admin.properties`: Contains the password to grant yourself admin rights.

**Note on Ignored Files:**
*   `data/*.db`: SQLite databases are ignored to prevent sharing your personal data. They are automatically initialized when you run the setup commands.
*   `public/uploads/*`: User uploads are ignored. The folder structure is preserved.

## üìÇ Project Structure

```bash
.
‚îú‚îÄ‚îÄ actions/              # Modular Server Actions (Prompt, Collection, etc.)
‚îú‚îÄ‚îÄ app/                  # Next.js App Router (Pages & API)
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/           # Login/Register Routes
‚îÇ   ‚îú‚îÄ‚îÄ (dashboard)/      # Protected App Routes
‚îÇ   ‚îî‚îÄ‚îÄ actions.ts        # Facade for Server Actions
‚îú‚îÄ‚îÄ components/           # React Components
‚îú‚îÄ‚îÄ docs/                 # Documentation (Single Source of Truth)
‚îÇ   ‚îú‚îÄ‚îÄ technical/        # Architecture & Deep Dives
‚îÇ   ‚îî‚îÄ‚îÄ diagrams/         # Database Models & Diagrams
‚îú‚îÄ‚îÄ lib/                  # Utilities (Auth, Validation, etc.)
‚îú‚îÄ‚îÄ prisma/               # Database Schema
‚îú‚îÄ‚îÄ services/             # Business Logic Layer
‚îî‚îÄ‚îÄ public/               # Static Assets
```

## üß™ Testing

Run the test suite (Vitest + Playwright):
```bash
npm run test
```

## üìñ Documentation
For deep dives, check the `docs/` folder:
*   [Technical Architecture](docs/technical/TECHNICAL_REFERENCE.md)
*   [Data Models](docs/diagrams/Data_Models.md)

## üîó Links
*   [GitHub Repository](https://github.com/jovd83/prompthive)

## Why did I make it?

I built Promthive because I needed a better way to manage my growing collection of prompts. I wanted something that could store prompts efficiently on my own infrastructure, without being locked into any particular AI model or provider. Most existing solutions either lived in the cloud (where I had less control), were tightly coupled to specific APIs, or lacked essential features like proper version history, a flexible folder structure for organization, variable substitution, and attachment support. But equally important was security: I needed a system that could completely decouple prompt management from API credentials. With kids in the house who are naturally curious about AI, I wanted to prevent scenarios where they could accidentally rack up tens of euros in token costs by having access to my API keys. Promthive is that solution: a self-hosted, model-agnostic prompt library that puts organization, security, and cost control first.
    </pre>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
             const rawMarkdown = document.getElementById('raw-markdown').textContent;
             document.getElementById('content').innerHTML = marked.parse(rawMarkdown);
        });
    </script>
</body>
</html>
